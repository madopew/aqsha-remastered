(this.webpackJsonpaqsha=this.webpackJsonpaqsha||[]).push([[0],{16:function(n,e,t){},17:function(n,e,t){},21:function(n,e,t){},52:function(n,e,t){},53:function(n,e,t){},54:function(n,e,t){},55:function(n,e,t){},56:function(n,e,t){"use strict";t.r(e);var o,c=t(1),i=t(3),a=t.n(i),r=t(2),s=(t(16),t(58)),l=(t(17),t(0));function u(n){var e=n.children,t=n.visible,c=n.effect;return Object(l.jsx)(s.a,{in:t,timeout:300,classNames:"appear-transition-"+o[c],unmountOnExit:!0,children:e})}!function(n){n[n.bottomToTop=0]="bottomToTop",n[n.fadeIn=1]="fadeIn"}(o||(o={}));t(21);var d=t(6);function j(n){var e=n.total,t=n.today,o=n.onAdd,i=n.onWithdraw,a=Object(c.useState)(t<0?1:0),s=Object(r.a)(a,2),u=s[0],j=s[1];return Object(c.useEffect)((function(){j(t<0?1:0)}),[t]),Object(l.jsxs)("div",{className:"balance-container",children:[Object(l.jsx)("div",{className:"balance-positive"}),Object(l.jsx)("div",{className:"balance-negative",style:{opacity:u}}),Object(l.jsxs)("div",{className:"balance-indicator",children:[Object(l.jsx)("h2",{children:"Total Balance"}),Object(l.jsxs)("h3",{children:[Object(l.jsx)(d.a,{value:e,decimals:2})," ",Object(l.jsx)("span",{children:"BYR"})]})]}),Object(l.jsxs)("div",{className:"balance-indicator",children:[Object(l.jsx)("h2",{children:"Today Balance"}),Object(l.jsxs)("h3",{children:[Object(l.jsx)(d.a,{value:t,decimals:2})," ",Object(l.jsx)("span",{children:"BYR"})]})]}),Object(l.jsxs)("div",{className:"balance-buttons",children:[Object(l.jsxs)("button",{onTouchEnd:function(){return o()},children:[Object(l.jsx)("span",{className:"material-icons-outlined",children:"add_circle"})," ","Add"]}),Object(l.jsx)("div",{className:"balance-buttons-separator"}),Object(l.jsxs)("button",{onTouchEnd:function(){return i()},children:[Object(l.jsx)("span",{className:"material-icons-outlined",children:"remove_circle"})," ","Out"]})]})]})}t(52);var b={title:"Title",text:"Text",firstButtonText:"First",secondButtonText:"Second",showCancelButton:!0,onFirst:null,onSecond:null,onCancel:null};function h(n){var e=n.options,t=e.title,o=e.text,c=e.firstButtonText,i=e.secondButtonText,a=e.showCancelButton,r=e.onFirst,s=e.onSecond,u=e.onCancel;return Object(l.jsx)("div",{className:"dialog-outer-container",children:Object(l.jsxs)("div",{className:"dialog-container",children:[Object(l.jsx)("h1",{children:t}),o&&Object(l.jsx)("p",{children:o}),Object(l.jsxs)("div",{className:"dialog-buttons",children:[c&&Object(l.jsx)("button",{onClick:function(n){return r&&r()},children:c}),i&&Object(l.jsx)("button",{onClick:function(n){return s&&s()},children:i}),a&&Object(l.jsx)("button",{onClick:function(n){return u&&u()},children:"Cancel"})]})]})})}t(53);function f(n){var e=n.onCancel,t=n.onSuccess,o=Object(c.useState)(0),i=Object(r.a)(o,2),a=i[0],s=i[1],u=function(n){switch(n){case"-":0===a?e():s(Math.floor(a/10));break;case"+":t(a/100);break;default:s(10*a+parseInt(n))}};return Object(l.jsx)("div",{className:"numpad-outer-container",children:Object(l.jsxs)("div",{className:"numpad-inner-container",children:[Object(l.jsx)("div",{className:"numpad-value-container",children:Object(l.jsxs)("div",{className:"numpad-value-container-inner",children:[(a/100).toFixed(2),Object(l.jsx)("span",{children:"BYR"})]})}),Object(l.jsxs)("div",{className:"numpad-numpad",children:[Object(l.jsxs)("div",{className:"numpad-row",children:[Object(l.jsx)("button",{onClick:function(n){return u("1")},children:"1"}),Object(l.jsx)("button",{onClick:function(n){return u("2")},children:"2"}),Object(l.jsx)("button",{onClick:function(n){return u("3")},children:"3"})]}),Object(l.jsxs)("div",{className:"numpad-row",children:[Object(l.jsx)("button",{onClick:function(n){return u("4")},children:"4"}),Object(l.jsx)("button",{onClick:function(n){return u("5")},children:"5"}),Object(l.jsx)("button",{onClick:function(n){return u("6")},children:"6"})]}),Object(l.jsxs)("div",{className:"numpad-row",children:[Object(l.jsx)("button",{onClick:function(n){return u("7")},children:"7"}),Object(l.jsx)("button",{onClick:function(n){return u("8")},children:"8"}),Object(l.jsx)("button",{onClick:function(n){return u("9")},children:"9"})]}),Object(l.jsxs)("div",{className:"numpad-row",children:[Object(l.jsx)("button",{onClick:function(n){return u("-")},children:Object(l.jsx)("span",{className:"material-icons-outlined",children:"arrow_back"})}),Object(l.jsx)("button",{onClick:function(n){return u("0")},children:"0"}),Object(l.jsx)("button",{onClick:function(n){return u("+")},children:Object(l.jsx)("span",{className:"material-icons-outlined",children:"done"})})]})]})]})})}var p=function(n,e,t){var o=Object(c.useRef)();Object(c.useEffect)((function(){var c=(null===t||void 0===t?void 0:t.current)||window;if(c&&c.addEventListener){o.current!==e&&(o.current=e);var i=function(n){(null===o||void 0===o?void 0:o.current)&&o.current(n)};return c.addEventListener(n,i),function(){c.removeEventListener(n,i)}}}),[n,t,e])};var v,O=function(n,e){var t=function(){if("undefined"===typeof window)return e;try{var t=window.localStorage.getItem(n);return null!==t?JSON.parse(t):(window.localStorage.setItem(n,JSON.stringify(e)),e)}catch(o){return console.warn("Error reading localStorage key \u201c".concat(n,"\u201d:"),o),e}},o=Object(c.useState)(t),i=Object(r.a)(o,2),a=i[0],s=i[1];return Object(c.useEffect)((function(){s(t())}),[]),Object(c.useEffect)((function(){var n=function(){s(t())};return window.addEventListener("storage",n),window.addEventListener("local-storage",n),function(){window.removeEventListener("storage",n),window.removeEventListener("local-storage",n)}}),[]),[a,function(e){"undefined"==typeof window&&console.warn("Tried setting localStorage key \u201c".concat(n,"\u201d even though environment is not a client"));try{var t=e instanceof Function?e(a):e;window.localStorage.setItem(n,JSON.stringify(t)),s(t),window.dispatchEvent(new Event("local-storage"))}catch(o){console.warn("Error setting localStorage key \u201c".concat(n,"\u201d:"),o)}}]};function x(){return(new Date).setHours(0,0,0,0)}function m(n){var e=function(){if(x()>y){var n=(x()-y)/864e5,e=h*n+u;d(i-e>-.001?e:i),g(x())}},t=O("total_balance",0),o=Object(r.a)(t,2),i=o[0],a=o[1],s=O("today_balance",0),l=Object(r.a)(s,2),u=l[0],d=l[1],j=O("daily_balance",0),b=Object(r.a)(j,2),h=b[0],f=b[1],m=O("last_updated",x()),w=Object(r.a)(m,2),y=w[0],g=w[1];Object(c.useEffect)((function(){e()}),[]),p("focus",(function(n){e()}));var N=O("history",[]),C=Object(r.a)(N,2),k=C[0],E=C[1],T=O("undos",[]),S=Object(r.a)(T,2),B=S[0],I=S[1],F=function(e,t){B.push({total:i,today:u,daily:h}),I(B);var o=k.slice(0);k.length>=n&&o.pop(),o.unshift({time:new Date,type:e,amount:t}),E(o)};return[i,function(n){F(v.update,n);var e=n/function(){var n=new Date;return new Date(n.getUTCFullYear(),n.getUTCMonth(),0).getDate()}();g(x()),f(e),d(e),a(n)},u,function(n){F(v.add,n),a(i+n),d(u+n)},function(n){return i-n>-.001&&(F(v.withdraw,n),d(u-n),a(Math.abs(i-n)),!0)},k,function(){if(B.length>0){k.shift(),E(k);var n=B.pop();if(void 0===n)throw new Error("Undo operation is undefined");I(B),a(n.total),d(n.today),f(n.daily)}},function(n,e,t){a(n),d(e),f(t),E([]),I([]),g(x())}]}!function(n){n[n.update=0]="update",n[n.add=1]="add",n[n.withdraw=2]="withdraw"}(v||(v={}));var w,y,g,N=t(7);function C(n,e){switch(e.type){case w.openChoose:return{visible:!0,options:{title:e.info.title,text:e.info.text,firstButtonText:"Add",secondButtonText:"Update",showCancelButton:!0,onFirst:function(){e.add(e.payload),e.close()},onSecond:function(){e.update(e.payload),e.close()},onCancel:function(){return e.close()}}};case w.openInfo:return{visible:!0,options:{title:e.info.title,text:e.info.text,firstButtonText:null,secondButtonText:null,showCancelButton:!0,onFirst:null,onSecond:null,onCancel:function(){return e.close()}}};case w.hide:return Object(N.a)(Object(N.a)({},n),{},{visible:!1})}}function k(n,e){switch(e.type){case y.open:return{visible:!0,operation:e.payload};case y.close:switch(n.operation){case g.unknown:e.onChoose(e.payload);break;case g.withdraw:e.withdraw(e.payload)||e.onError();break;default:throw Error("Invalid numpad close "+g[n.operation])}return{visible:!1,operation:g.none};case y.hide:return{visible:!1,operation:g.none}}}!function(n){n[n.openChoose=0]="openChoose",n[n.openInfo=1]="openInfo",n[n.hide=2]="hide"}(w||(w={})),function(n){n[n.open=0]="open",n[n.close=1]="close",n[n.hide=2]="hide"}(y||(y={})),function(n){n[n.withdraw=0]="withdraw",n[n.unknown=1]="unknown",n[n.none=2]="none"}(g||(g={}));var E=t(10),T=t.n(E),S=(t(54),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),B=["","+","-"];function I(n){var e=n.history,t=n.undo;return Object(l.jsx)("div",{className:"history-container",children:e.map((function(n,e){var o=new Date(n.time);return Object(l.jsxs)("div",{onTouchEnd:function(){0===e&&t()},className:"history-operation",children:[Object(l.jsxs)("span",{className:"operation-time",children:[o.getDate()," ",S[o.getMonth()],","," ",o.getHours().toString().padStart(2),":",o.getMinutes().toString().padStart(2)]}),Object(l.jsxs)("span",{className:"operation-amount operation-"+v[n.type],children:[B[n.type],n.amount.toFixed(2)]})]},T()())}))})}var F=function(){var n=m(5),e=Object(r.a)(n,8),t=e[0],i=e[1],a=e[2],s=e[3],d=e[4],p=e[5],v=e[6],O=e[7],x=Object(c.useReducer)(k,{visible:!1,operation:g.none}),N=Object(r.a)(x,2),E=N[0],T=N[1],S=Object(c.useReducer)(C,{visible:!1,options:b}),B=Object(r.a)(S,2),F=B[0],D=B[1];return Object(l.jsxs)("div",{className:"root-main",children:[Object(l.jsx)("div",{className:"root-top",children:Object(l.jsx)(u,{visible:E.visible,effect:o.bottomToTop,children:Object(l.jsx)(f,{onSuccess:function(n){T({type:y.close,payload:n,withdraw:d,onChoose:function(n){return D({type:w.openChoose,payload:n,info:{title:"Balance added.",text:"Do you want to add extra income or update monthly budget?"},add:s,update:i,close:function(){return D({type:w.hide})}})},onError:function(){return D({type:w.openInfo,info:{title:"You don't have enough balance.",text:"Please make sure you have chosen either right amount or operation."},close:function(){return D({type:w.hide})}})}})},onCancel:function(){return T({type:y.hide})}})})}),Object(l.jsx)("div",{className:"root-top",children:Object(l.jsx)(u,{visible:F.visible,effect:o.fadeIn,children:Object(l.jsx)(h,{options:F.options})})}),Object(l.jsxs)("div",{className:"root-balance",children:[Object(l.jsx)("button",{className:"secret",onTouchEnd:function(){console.log(1);var n=prompt();if(null!=n){var e=n.split(" ");O(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]))}},children:"reset"}),Object(l.jsx)(j,{total:t,today:a,onAdd:function(){T({type:y.open,payload:g.unknown})},onWithdraw:function(){T({type:y.open,payload:g.withdraw})}})]}),Object(l.jsx)("div",{className:"root-history",children:Object(l.jsx)(I,{history:p,undo:v})})]})};t(55);a.a.render(Object(l.jsx)(F,{}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.e6090ba0.chunk.js.map